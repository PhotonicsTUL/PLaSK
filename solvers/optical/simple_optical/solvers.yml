- solver: SimpleOpticalCyl
  lib: simple_optical
  category: optical
  help: >
    Scalar optical solver base on solve Helmholtz equation.

  geometry: Cylindrical
  need mesh: false
  
  providers:
   - outLightMagnitude
   - outRefractiveIndex
       
  tags: 
  - &root
    tag: root
    label: Parameters of the Root-Finding Algorithm
    help: >
       Parameters of the global root-finding algorithm.
    attrs:
    - attr: method
      label: Root finding method
      type: choice
      default: muller
      choices: [ muller, broyden, brent ]
      help: >
         Root finding algorithm (Muller's method or Broyden's method).
    - attr: tolx
      label: Tolerance on argument
      type: float
      default: 1.0e-06
      help: >
          Maximum change of the argument which is allowed for convergent solution. 
    - attr: tolf-min
      label: Sufficient determinant value
      type: float
      default: 1.0e-07
      help: >
         Minimum value of the determinant sufficient to assume convergence.
    - attr: tolf-max
      label: Required determinant value
      type: float
      default: 1.0e-05
      help: >
         Maximum value of the determinant required to assume convergence.
    - attr: maxstep
      label: Maximum Broyden iteration step
      type: float
      default: 0.1
      help: >
         Maximum step in one iteration of root finding. Significant for the Broyden method only.
    - attr: maxiter
      label: Maximum number of iterations
      type: int
      default: 500
      help: >
         Maximum number of root finding iterations.
    - attr: alpha
      label: Broyden decrease factor
      type: float
      default: 1.0e-07
      help: >
         Parameter ensuring sufficient decrease of determinant in each step (Broyden method only).
    - attr: lambda
      label: Minimum Broyden step decrease ratio
      type: float
      default: 1.0e-08
      help: >
         Minimum decrease ratio of one step (Broyden method only).
    - attr: initial-range
      label: Initial Muller range size
      type: complex
      default: 0.001
      help: >
         Initial range size (Muller method only).  
  - &mode 
    tag: mode
    label: Mode Properties
    help: >
         Mode properties.
    attrs:
    - attr: lam0
      label: Approximate wavelength
      type: float
      unit: nm
      help: >
         Approximate wavelength, around which the solution is searched. The refractive and group idexes
         are computed for this wavelength
    - attr: vat
      label: Vertical solution coord
      type: float
      unit: Âµm
      help: >
          Horizontal position of at which the vertical part of the field is calculated.     

- solver: SimpleOptical2D
  lib: simple_optical
  category: optical
  help: >
    Scalar optical solver base on solve Helmholtz equation for Cartesian 2D geometry
    
  geometry: Cartesian2D
           
  need mesh: false
  
  providers:
   - outLightMagnitude
   - outRefractiveIndex

  tags: 
  - *root  
  - *mode  